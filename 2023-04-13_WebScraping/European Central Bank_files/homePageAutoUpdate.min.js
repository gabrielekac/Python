/*! ecb - v2.0.0 - European Central Bank */


(homePageAutoUpdate=window.homePageAutoUpdate||{}).autoUpdate=function(){for(var s=[],e=["t2","t3","t4","t5","t6"],a=0;a<e.length;a++){var t=document.querySelector(".section-home #"+e[a]);t&&t.addEventListener("change",function(e){var t=this.nextElementSibling.querySelector(".badge");if(this.checked&&t)for(t.classList.remove("-not-seen"),sessionStorage.getItem("visitedTabs")&&(s=JSON.parse(sessionStorage.getItem("visitedTabs"))),a=0;a<s.length;a++)s[a].badge.id==this.id&&(s[a].badge.visited=!0)})}refreshHomepage=function(){var n=new XMLHttpRequest;n.open("GET","/shared/js/liveUpdate/hash/"+ECB.currentLanguage+"?"+(new Date).getTime()),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(window.ECB.homePageAutoUpdateElements?function(e){var t=[];if(!(e.timestamp<=window.ECB.homePageAutoUpdateElements.timestamp)){for(key in e.hashes)window.ECB.homePageAutoUpdateElements.hashes[key]&&window.ECB.homePageAutoUpdateElements.hashes[key].hash!=e.hashes[key].hash&&t.push(key);replaceElementContents=function(e,t){if((e.innerHTML="")!=t){var o=t.querySelectorAll(":scope > *");for(a=0;a<o.length;a++)e.appendChild(o[a])}else e.innerHTML=""},t.forEach(function(o){window.ECB.homePageAutoUpdateElements.hashes[o]||window.location.reload(),window.ECB.homePageAutoUpdateElements.timestamp=e.timestamp,window.ECB.homePageAutoUpdateElements.hashes[o].hash=e.hashes[o].hash;var a=new XMLHttpRequest;a.open("GET","/shared/js/liveUpdate/item/"+ECB.currentLanguage+"?element="+o+"&hash="+e.hashes[o].hash),a.responseType="document",a.send(),a.onreadystatechange=function(){var e,t;4===a.readyState&&(200===a.status?(t=a.response.body.firstChild,(e=document.querySelector(window.ECB.homePageAutoUpdateElements.hashes[o].cssSelector))&&(e.style.opacity=0,"slider"===o?(e.replaceWith(t),e=document.querySelector(window.ECB.homePageAutoUpdateElements.hashes[o].cssSelector)):0==o.indexOf("box")?replaceElementContents(e,a.response.body.firstChild):"inflation"===o?(replaceElementContents(e,a.response.body),CHART.loadChart.init(!0)):"DL"===e.tagName.toUpperCase()?(replaceElementContents(e,a.response.body),s=[],ECB.slow.homepageBadge()):replaceElementContents(e,a.response.body),(t=document.createEvent("Event")).initEvent("homepageBoxUpdated",!0,!0),e.dispatchEvent(t),e.style.opacity=1)):console.log("Error: "+n.status))}})}}(JSON.parse(n.responseText)):window.ECB.homePageAutoUpdateElements=JSON.parse(n.responseText))}};return{init:function(){window.ECB.autoUpdate||(refreshHomepage(),window.ECB.autoUpdate=window.setInterval(refreshHomepage,1e4))}}}();var homePageAutoUpdate=window.homePageAutoUpdate||{},ECB=window.ECB||{};ECB.componentList=ECB.componentList||[],ECB.componentList=ECB.componentList.concat([homePageAutoUpdate.autoUpdate]);